<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>phpIPAM å¥åº·æª¢æŸ¥ç›£æ§ç³»çµ± - å®Œæ•´èªªæ˜æ›¸</title>
    <style>
        :root {
            --bg: #0f172a;
            --bg2: #1e293b;
            --card: #334155;
            --text: #f1f5f9;
            --text2: #94a3b8;
            --green: #22c55e;
            --blue: #3b82f6;
            --orange: #f97316;
            --purple: #a855f7;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', system-ui, sans-serif;
            background: var(--bg);
            color: var(--text);
            line-height: 1.7;
            padding: 40px 20px;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
        }

        h1 {
            font-size: 2.5rem;
            text-align: center;
            margin-bottom: 8px;
            background: linear-gradient(135deg, var(--blue), var(--purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .subtitle {
            text-align: center;
            color: var(--text2);
            margin-bottom: 40px;
            font-size: 1.1rem;
        }

        .card {
            background: var(--bg2);
            border-radius: 16px;
            padding: 28px;
            margin-bottom: 28px;
            border: 1px solid var(--card);
        }

        h2 {
            font-size: 1.4rem;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        h2::before {
            content: '';
            width: 5px;
            height: 28px;
            background: var(--blue);
            border-radius: 3px;
        }

        h3 {
            font-size: 1.1rem;
            color: var(--blue);
            margin: 20px 0 12px 0;
        }

        h4 {
            font-size: 1rem;
            color: var(--orange);
            margin: 16px 0 8px 0;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 16px 0;
        }

        th,
        td {
            padding: 14px;
            text-align: left;
            border-bottom: 1px solid var(--card);
        }

        th {
            color: var(--text2);
            font-size: 0.8rem;
            text-transform: uppercase;
            background: rgba(51, 65, 85, 0.3);
        }

        .badge {
            display: inline-block;
            padding: 6px 14px;
            border-radius: 6px;
            font-size: 0.85rem;
            font-weight: 600;
        }

        .badge.success {
            background: rgba(34, 197, 94, 0.2);
            color: var(--green);
        }

        .badge.info {
            background: rgba(59, 130, 246, 0.2);
            color: var(--blue);
        }

        pre {
            background: #0a0f1a;
            padding: 18px;
            border-radius: 10px;
            overflow-x: auto;
            font-size: 0.9rem;
            margin: 12px 0;
            border: 1px solid var(--card);
        }

        code {
            color: var(--green);
            font-family: 'Consolas', monospace;
        }

        .code-inline {
            background: rgba(59, 130, 246, 0.15);
            padding: 3px 8px;
            border-radius: 4px;
            color: var(--blue);
            font-family: 'Consolas', monospace;
            font-size: 0.9rem;
        }

        ul,
        ol {
            padding-left: 24px;
            margin: 12px 0;
        }

        li {
            margin: 8px 0;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
            margin: 20px 0;
        }

        .stat-box {
            background: var(--card);
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }

        .stat-value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--green);
        }

        .stat-label {
            font-size: 0.85rem;
            color: var(--text2);
            margin-top: 6px;
        }

        a {
            color: var(--blue);
            text-decoration: none;
        }

        a:hover {
            text-decoration: underline;
        }

        .toc {
            background: var(--card);
            padding: 20px 28px;
            border-radius: 10px;
            margin: 20px 0;
        }

        .toc a {
            display: block;
            padding: 6px 0;
            color: var(--text);
        }

        .toc a:hover {
            color: var(--blue);
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
        }

        .feature-card {
            background: var(--card);
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid var(--blue);
        }

        .feature-card h4 {
            margin-top: 0;
            color: var(--text);
        }

        .note {
            background: rgba(59, 130, 246, 0.1);
            border-left: 4px solid var(--blue);
            padding: 16px 20px;
            border-radius: 0 8px 8px 0;
            margin: 16px 0;
        }

        .warning {
            background: rgba(249, 115, 22, 0.1);
            border-left: 4px solid var(--orange);
            padding: 16px 20px;
            border-radius: 0 8px 8px 0;
            margin: 16px 0;
        }

        .footer {
            text-align: center;
            color: var(--text2);
            font-size: 0.9rem;
            margin-top: 50px;
            padding-top: 30px;
            border-top: 1px solid var(--card);
        }
    </style>
</head>

<body>
    <div class="container">
        <h1>ğŸ“Š phpIPAM å¥åº·æª¢æŸ¥ç›£æ§ç³»çµ±</h1>
        <p class="subtitle">å®Œæ•´èªªæ˜æ›¸ v2.1 | 2025-12-23</p>

        <!-- ç›®éŒ„ -->
        <div class="card">
            <h2>ğŸ“‘ ç›®éŒ„</h2>
            <div class="toc">
                <a href="#overview">1. ç³»çµ±æ¦‚è¦½</a>
                <a href="#features">2. åŠŸèƒ½ç‰¹è‰²</a>
                <a href="#dashboard">3. Dashboard ä½¿ç”¨èªªæ˜</a>
                <a href="#api">4. API åƒè€ƒ</a>
                <a href="#dhcp-management">5. DHCP ä¼ºæœå™¨ç®¡ç†</a>
                <a href="#deployment">6. Docker éƒ¨ç½²èªªæ˜</a>
                <a href="#maintenance">7. ç¶­è­·èˆ‡æ•…éšœæ’é™¤</a>
            </div>
        </div>

        <!-- ç³»çµ±æ¦‚è¦½ -->
        <div class="card" id="overview">
            <h2>1. ç³»çµ±æ¦‚è¦½</h2>
            <p>phpIPAM å¥åº·æª¢æŸ¥ç›£æ§ç³»çµ±æä¾› 24 å°æ™‚æ­·å²çµ±è¨ˆåŠŸèƒ½ï¼Œç”¨æ–¼ç›£æ§ç³»çµ±è³‡æºå’Œ DHCP ä¼ºæœå™¨ç‹€æ…‹ã€‚</p>

            <div class="grid">
                <div class="stat-box">
                    <div class="stat-value">âœ…</div>
                    <div class="stat-label">å³æ™‚ç›£æ§</div>
                </div>
                <div class="stat-box">
                    <div class="stat-value">24h</div>
                    <div class="stat-label">æ­·å²çµ±è¨ˆ</div>
                </div>
                <div class="stat-box">
                    <div class="stat-value">6</div>
                    <div class="stat-label">DHCP ä¼ºæœå™¨</div>
                </div>
                <div class="stat-box">
                    <div class="stat-value">5 min</div>
                    <div class="stat-label">è³‡æ–™æ¡é›†é–“éš”</div>
                </div>
            </div>

            <h3>Dashboard URL</h3>
            <p><a href="https://ipam-tw.pouchen.com/health_dashboard/"
                    target="_blank">https://ipam-tw.pouchen.com/health_dashboard/</a></p>
        </div>

        <!-- åŠŸèƒ½ç‰¹è‰² -->
        <div class="card" id="features">
            <h2>2. åŠŸèƒ½ç‰¹è‰²</h2>
            <div class="feature-grid">
                <div class="feature-card">
                    <h4>ğŸŒ™ Light/Dark Mode</h4>
                    <p>æ”¯æ´æ·±è‰²å’Œæ·ºè‰²ä¸»é¡Œåˆ‡æ›ï¼Œè‡ªå‹•è¨˜æ†¶ä½¿ç”¨è€…åå¥½</p>
                </div>
                <div class="feature-card">
                    <h4>ğŸŒ å¤šèªç³»æ”¯æ´</h4>
                    <p>English / ç®€ä½“ä¸­æ–‡ / ç¹é«”ä¸­æ–‡ ä¸‰ç¨®èªè¨€åˆ‡æ›</p>
                </div>
                <div class="feature-card">
                    <h4>ğŸ“ˆ å³æ™‚æ›²ç·šåœ–</h4>
                    <p>ç³»çµ±è³‡æºå’Œ DHCP å»¶é²è¶¨å‹¢è¦–è¦ºåŒ–</p>
                </div>
                <div class="feature-card">
                    <h4>âš™ï¸ DHCP ç®¡ç† UI</h4>
                    <p>è¦–è¦ºåŒ–æ–°å¢ã€ç·¨è¼¯ã€åˆªé™¤ DHCP ä¼ºæœå™¨</p>
                </div>
                <div class="feature-card">
                    <h4>ğŸ”„ è‡ªå‹•æ›´æ–°</h4>
                    <p>æ¯ 60 ç§’è‡ªå‹•é‡æ–°æ•´ç†è³‡æ–™</p>
                </div>
                <div class="feature-card">
                    <h4>â±ï¸ å½ˆæ€§æ™‚æ®µæŸ¥è©¢</h4>
                    <p>å›ºå®šæ™‚æ®µ (1h/3h/6h/8h/12h/24h) æˆ–è‡ªè¨‚æ™‚é–“ç¯„åœæŸ¥è©¢</p>
                </div>
                <div class="feature-card">
                    <h4>ğŸ“ˆ æ­·å²çµ±è¨ˆ</h4>
                    <p>avg / min / max çµ±è¨ˆæ•¸æ“šæŸ¥è©¢</p>
                </div>
            </div>
        </div>

        <!-- Dashboard ä½¿ç”¨èªªæ˜ -->
        <div class="card" id="dashboard">
            <h2>3. Dashboard ä½¿ç”¨èªªæ˜</h2>

            <h3>3.1 ä¸»é¡Œåˆ‡æ›</h3>
            <p>é»æ“Šå³ä¸Šè§’çš„ ğŸŒ™ / â˜€ï¸ æŒ‰éˆ•åˆ‡æ›æ·±è‰²/æ·ºè‰²ä¸»é¡Œã€‚è¨­å®šæœƒè‡ªå‹•å„²å­˜åˆ°ç€è¦½å™¨ã€‚</p>

            <h3>3.2 èªç³»åˆ‡æ›</h3>
            <p>ä½¿ç”¨å³ä¸Šè§’çš„ä¸‹æ‹‰é¸å–®é¸æ“‡èªè¨€ï¼š</p>
            <ul>
                <li><strong>English</strong> - è‹±æ–‡ï¼ˆé è¨­ï¼‰</li>
                <li><strong>ç®€ä½“ä¸­æ–‡</strong> - ç°¡é«”ä¸­æ–‡</li>
                <li><strong>ç¹é«”ä¸­æ–‡</strong> - ç¹é«”ä¸­æ–‡</li>
            </ul>

            <h3>3.3 ç›£æ§é ç±¤ (Monitor)</h3>
            <ul>
                <li><strong>ç³»çµ±è³‡æº</strong>ï¼šCPUã€è¨˜æ†¶é«”ã€ç£ç¢Ÿä½¿ç”¨ç‡ (å³æ™‚æ•¸å€¼ + æ›²ç·šåœ–)</li>
                <li><strong>DHCP å»¶é²è¶¨å‹¢</strong>ï¼šå„ä¼ºæœå™¨ ping å»¶é²æ›²ç·šåœ–</li>
                <li><strong>DHCP ç‹€æ…‹è¡¨æ ¼</strong>ï¼šä¸»æ©Ÿåç¨±ã€IPã€ç‹€æ…‹ã€å»¶é²ã€æ™‚é–“</li>
            </ul>

            <h3>3.4 DHCP ç®¡ç†é ç±¤</h3>
            <ul>
                <li>é»æ“Š <span class="code-inline">+ æ–°å¢</span> æŒ‰éˆ•æ–°å¢ä¼ºæœå™¨</li>
                <li>é»æ“Š <span class="code-inline">ç·¨è¼¯</span> æŒ‰éˆ•ä¿®æ”¹ä¼ºæœå™¨è³‡è¨Š</li>
                <li>é»æ“Š <span class="code-inline">åˆªé™¤</span> æŒ‰éˆ•ç§»é™¤ä¼ºæœå™¨ï¼ˆéœ€ç¢ºèªï¼‰</li>
            </ul>
        </div>

        <!-- API åƒè€ƒ -->
        <div class="card" id="api">
            <h2>4. API åƒè€ƒ</h2>

            <h3>4.1 çµ±è¨ˆ API</h3>
            <p>Base URL: <span class="code-inline">/health_dashboard/api/api_stats.php</span></p>

            <h4>å–å¾—æœ€æ–°ç‹€æ…‹</h4>
            <pre><code>GET /health_dashboard/api/api_stats.php?action=latest</code></pre>

            <h4>å–å¾—ç³»çµ±æ­·å²è³‡æ–™ (å›ºå®šæ™‚æ®µ)</h4>
            <pre><code>GET /health_dashboard/api/api_stats.php?action=system_history&hours=6</code></pre>

            <h4>å–å¾—ç³»çµ±æ­·å²è³‡æ–™ (è‡ªè¨‚æ™‚é–“ç¯„åœ)</h4>
            <pre><code>GET /health_dashboard/api/api_stats.php?action=system_history&start_time=2025-12-22%2000:00&end_time=2025-12-22%2005:00</code></pre>

            <h4>å–å¾— DHCP æ­·å²è³‡æ–™ (å›ºå®šæ™‚æ®µ)</h4>
            <pre><code>GET /health_dashboard/api/api_stats.php?action=dhcp_history&hours=3</code></pre>

            <h4>å–å¾— DHCP æ­·å²è³‡æ–™ (è‡ªè¨‚æ™‚é–“ç¯„åœ)</h4>
            <pre><code>GET /health_dashboard/api/api_stats.php?action=dhcp_history&start_time=2025-12-22%2000:00&end_time=2025-12-22%2005:00</code></pre>

            <h4>API åƒæ•¸èªªæ˜</h4>
            <table>
                <tr>
                    <th>åƒæ•¸</th>
                    <th>èªªæ˜</th>
                    <th>é è¨­å€¼</th>
                </tr>
                <tr>
                    <td>hours</td>
                    <td>å›ºå®šæ™‚æ®µæŸ¥è©¢ (å°æ™‚)</td>
                    <td>24</td>
                </tr>
                <tr>
                    <td>start_time</td>
                    <td>è‡ªè¨‚ç¯„åœé–‹å§‹æ™‚é–“ (Y-m-d H:i)</td>
                    <td>-</td>
                </tr>
                <tr>
                    <td>end_time</td>
                    <td>è‡ªè¨‚ç¯„åœçµæŸæ™‚é–“ (Y-m-d H:i)</td>
                    <td>-</td>
                </tr>
            </table>

            <h3>4.2 DHCP é…ç½® API</h3>
            <p>Base URL: <span class="code-inline">/health_dashboard/api/api_dhcp_config.php</span></p>

            <h4>æŸ¥è©¢æ‰€æœ‰ä¼ºæœå™¨</h4>
            <pre><code>curl -sk "https://ipam-tw.pouchen.com/health_dashboard/api/api_dhcp_config.php"</code></pre>

            <h4>æ–°å¢ä¼ºæœå™¨</h4>
            <pre><code>curl -sk -X POST -H "Content-Type: application/json" \
  -d '{"ip":"10.1.1.1","hostname":"NEW-DHCP","location":"æ–°æ“šé»"}' \
  "https://ipam-tw.pouchen.com/health_dashboard/api/api_dhcp_config.php"</code></pre>

            <h4>ä¿®æ”¹ä¼ºæœå™¨</h4>
            <pre><code>curl -sk -X PUT -H "Content-Type: application/json" \
  -d '{"hostname":"Updated-Name","location":"æ–°ä½ç½®"}' \
  "https://ipam-tw.pouchen.com/health_dashboard/api/api_dhcp_config.php?ip=10.1.1.1"</code></pre>

            <h4>åˆªé™¤ä¼ºæœå™¨</h4>
            <pre><code>curl -sk -X DELETE \
  "https://ipam-tw.pouchen.com/health_dashboard/api/api_dhcp_config.php?ip=10.1.1.1"</code></pre>
        </div>

        <!-- DHCP ä¼ºæœå™¨ç®¡ç† -->
        <div class="card" id="dhcp-management">
            <h2>5. DHCP ä¼ºæœå™¨ç®¡ç†</h2>

            <h3>5.1 æ–¹å¼ä¸€ï¼šDashboard UIï¼ˆå»ºè­°ï¼‰</h3>
            <ol>
                <li>é–‹å•Ÿ Dashboard: <a
                        href="https://ipam-tw.pouchen.com/health_dashboard/">https://ipam-tw.pouchen.com/health_dashboard/</a>
                </li>
                <li>é»æ“Š <strong>DHCP</strong> é ç±¤</li>
                <li>ä½¿ç”¨ä»‹é¢ä¸Šçš„æŒ‰éˆ•é€²è¡Œæ–°å¢ã€ç·¨è¼¯ã€åˆªé™¤æ“ä½œ</li>
            </ol>

            <h3>5.2 æ–¹å¼äºŒï¼šç›´æ¥ç·¨è¼¯ JSON æª”æ¡ˆ</h3>
            <pre><code># å¾å®¹å™¨è¤‡è£½å‡ºä¾†
docker cp phpipam_phpipam-web_1:/phpipam/health_dashboard/config/dhcp_servers.json /tmp/

# ç·¨è¼¯æª”æ¡ˆ
vi /tmp/dhcp_servers.json

# è¤‡è£½å›å®¹å™¨
docker cp /tmp/dhcp_servers.json phpipam_phpipam-web_1:/phpipam/health_dashboard/config/
docker cp /tmp/dhcp_servers.json phpipam_phpipam-cron_1:/health_check/config/</code></pre>

            <h3>5.3 æ–¹å¼ä¸‰ï¼šä½¿ç”¨ curl API</h3>
            <p>è«‹åƒè€ƒä¸Šæ–¹ API åƒè€ƒç« ç¯€çš„ DHCP é…ç½® APIã€‚</p>

            <h3>5.4 ç›®å‰ç›£æ§çš„ DHCP ä¼ºæœå™¨</h3>
            <table>
                <tr>
                    <th>IP ä½å€</th>
                    <th>ä¸»æ©Ÿåç¨±</th>
                    <th>ä½ç½®</th>
                </tr>
                <tr>
                    <td>172.16.5.196</td>
                    <td>DHCP-CH-HQ2</td>
                    <td>å½°åŒ–ç¸½å…¬å¸</td>
                </tr>
                <tr>
                    <td>172.23.13.10</td>
                    <td>DHCP-CH-PGT</td>
                    <td>å½°åŒ–PGT_G3</td>
                </tr>
                <tr>
                    <td>172.23.174.5</td>
                    <td>DHCP-TC-HQ</td>
                    <td>å°ä¸­ç¸½éƒ¨</td>
                </tr>
                <tr>
                    <td>172.23.199.150</td>
                    <td>DHCP-TC-UAIC</td>
                    <td>å°ä¸­å…‰å¨</td>
                </tr>
                <tr>
                    <td>172.23.110.1</td>
                    <td>DHCP-TP-XY</td>
                    <td>å°åŒ—ä¿¡ç¾©</td>
                </tr>
                <tr>
                    <td>172.23.94.254</td>
                    <td>DHCP-TP-BaoYu</td>
                    <td>å°åŒ—å¯¶è£•</td>
                </tr>
                <tr>
                    <td>172.23.127.169</td>
                    <td>DHCP-TC-CBD</td>
                    <td>å°ä¸­CBD</td>
                </tr>
            </table>
        </div>

        <!-- Docker éƒ¨ç½²èªªæ˜ -->
        <div class="card" id="deployment">
            <h2>6. Docker éƒ¨ç½²èªªæ˜</h2>

            <h3>6.1 ç’°å¢ƒè³‡è¨Š</h3>
            <table>
                <tr>
                    <th>é …ç›®</th>
                    <th>å€¼</th>
                </tr>
                <tr>
                    <td>ä¼ºæœå™¨</td>
                    <td>stwphpipam-p (ipam-tw.pouchen.com)</td>
                </tr>
                <tr>
                    <td>phpIPAM ç‰ˆæœ¬</td>
                    <td>v1.7.4</td>
                </tr>
                <tr>
                    <td>Web å®¹å™¨</td>
                    <td>phpipam_phpipam-web_1</td>
                </tr>
                <tr>
                    <td>Cron å®¹å™¨</td>
                    <td>phpipam_phpipam-cron_1</td>
                </tr>
                <tr>
                    <td>MariaDB å®¹å™¨</td>
                    <td>phpipam_phpipam-mariadb_1</td>
                </tr>
            </table>

            <h3>6.2 æª”æ¡ˆä½ç½®</h3>
            <h4>Web å®¹å™¨ (phpipam_phpipam-web_1)</h4>
            <pre><code>/phpipam/health_dashboard/
â”œâ”€â”€ index.html           # Dashboard ä¸»é 
â”œâ”€â”€ api/
â”‚   â”œâ”€â”€ api_stats.php       # çµ±è¨ˆ API
â”‚   â””â”€â”€ api_dhcp_config.php # DHCP é…ç½® API
â”œâ”€â”€ config/
â”‚   â””â”€â”€ dhcp_servers.json   # DHCP ä¼ºæœå™¨é…ç½®
â””â”€â”€ includes/
    â”œâ”€â”€ StatsCalculator.php
    â””â”€â”€ HistoryCollector.php</code></pre>

            <h4>Cron å®¹å™¨ (phpipam_phpipam-cron_1)</h4>
            <pre><code>/health_check/
â”œâ”€â”€ scripts/
â”‚   â””â”€â”€ collect_stats.php   # è³‡æ–™æ”¶é›†è…³æœ¬
â”œâ”€â”€ includes/
â”‚   â”œâ”€â”€ StatsCalculator.php
â”‚   â””â”€â”€ HistoryCollector.php
â””â”€â”€ config/
    â””â”€â”€ dhcp_servers.json</code></pre>

            <h3>6.3 Cron è¨­å®š</h3>
            <pre><code>*/5 * * * * php /health_check/scripts/collect_stats.php >> /var/log/health_check.log 2>&1</code></pre>

            <h3>6.4 è³‡æ–™è¡¨</h3>
            <ul>
                <li><span class="code-inline">health_check_system_history</span> - ç³»çµ±è³‡æºæ­·å²</li>
                <li><span class="code-inline">health_check_dhcp_history</span> - DHCP å»¶é²æ­·å²</li>
            </ul>
        </div>

        <!-- ç¶­è­·èˆ‡æ•…éšœæ’é™¤ -->
        <div class="card" id="maintenance">
            <h2>7. ç¶­è­·èˆ‡æ•…éšœæ’é™¤</h2>

            <h3>7.1 æª¢æŸ¥ Cron æ˜¯å¦æ­£å¸¸é‹ä½œ</h3>
            <pre><code># æŸ¥çœ‹ Cron æ—¥èªŒ
docker exec phpipam_phpipam-cron_1 tail -20 /var/log/health_check.log

# æ‰‹å‹•åŸ·è¡Œæ”¶é›†è…³æœ¬
docker exec phpipam_phpipam-cron_1 php /health_check/scripts/collect_stats.php</code></pre>

            <h3>7.2 æª¢æŸ¥è³‡æ–™åº«è³‡æ–™</h3>
            <pre><code># æŸ¥çœ‹ç³»çµ±è³‡æºæ­·å²
docker exec phpipam_phpipam-mariadb_1 mariadb -u phpipam -p*** phpipam \
  -e "SELECT * FROM health_check_system_history ORDER BY id DESC LIMIT 5"

# æŸ¥çœ‹ DHCP æ­·å²
docker exec phpipam_phpipam-mariadb_1 mariadb -u phpipam -p*** phpipam \
  -e "SELECT * FROM health_check_dhcp_history ORDER BY id DESC LIMIT 10"</code></pre>

            <h3>7.3 æ¸¬è©¦ API</h3>
            <pre><code># åœ¨å®¹å™¨å…§æ¸¬è©¦
docker exec phpipam_phpipam-web_1 php /phpipam/health_dashboard/api/api_stats.php

# é€é HTTPS æ¸¬è©¦
curl -sk "https://ipam-tw.pouchen.com/health_dashboard/api/api_stats.php?action=latest"</code></pre>

            <h3>7.4 æ›´æ–° Dashboard</h3>
            <pre><code># è¤‡è£½æœ¬åœ°æª”æ¡ˆåˆ°å®¹å™¨
docker cp /path/to/index.html phpipam_phpipam-web_1:/phpipam/health_dashboard/</code></pre>

            <h3>7.5 DHCP Management èˆ‡ Monitor çš„é—œä¿‚</h3>
            <div class="note">
                <strong>ğŸ’¡ é‡è¦èªªæ˜</strong>
                <p><strong>DHCP Management</strong> ç®¡ç†çš„æ˜¯ã€Œé…ç½®ã€ï¼Œæ±ºå®š Cron è¦æ”¶é›†å“ªäº› DHCP ä¼ºæœå™¨çš„è³‡æ–™ã€‚</p>
                <p><strong>Monitor</strong> é¡¯ç¤ºçš„æ˜¯ã€Œè³‡æ–™åº«æ­·å²è³‡æ–™ã€ï¼ŒåŒ…å«æ‰€æœ‰æ›¾ç¶“æ”¶é›†éçš„è¨˜éŒ„ã€‚</p>
                <p>å› æ­¤ï¼š</p>
                <ul>
                    <li>åœ¨ DHCP Management åˆªé™¤ DHCP ä¼ºæœå™¨å¾Œï¼Œ<strong>èˆŠè³‡æ–™ä»æœƒä¿ç•™åœ¨ Monitor ä¸­</strong></li>
                    <li>æ–°å¢ DHCP ä¼ºæœå™¨å¾Œï¼Œéœ€è¦ç­‰å¾…ä¸‹æ¬¡ Cron åŸ·è¡Œï¼ˆæ¯ 5 åˆ†é˜ï¼‰æ‰æœƒå‡ºç¾åœ¨ Monitor</li>
                    <li>æ­·å²è³‡æ–™æœƒåœ¨ 7 å¤©å¾Œè‡ªå‹•æ¸…ç†</li>
                </ul>
            </div>

            <h3>7.6 æ‰‹å‹•åˆªé™¤ DHCP æ­·å²è³‡æ–™</h3>
            <p>å¦‚æœéœ€è¦ç«‹å³å¾ Monitor ç§»é™¤å·²åˆªé™¤çš„ DHCP ä¼ºæœå™¨è³‡æ–™ï¼Œè«‹åŸ·è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p>
            <pre><code># åˆªé™¤æŒ‡å®š IP çš„æ‰€æœ‰æ­·å²è¨˜éŒ„
docker exec phpipam_phpipam-mariadb_1 mariadb -u phpipam -pmy_secret_phpipam_pass phpipam \
  -e "DELETE FROM health_check_dhcp_history WHERE dhcp_ip = 'è¦åˆªé™¤çš„IP'"

# ç¯„ä¾‹ï¼šåˆªé™¤ 172.23.127.69 çš„æ­·å²è³‡æ–™
docker exec phpipam_phpipam-mariadb_1 mariadb -u phpipam -pmy_secret_phpipam_pass phpipam \
  -e "DELETE FROM health_check_dhcp_history WHERE dhcp_ip = '172.23.127.69'"

# ç¢ºèªåˆªé™¤çµæœ
docker exec phpipam_phpipam-mariadb_1 mariadb -u phpipam -pmy_secret_phpipam_pass phpipam \
  -e "SELECT DISTINCT dhcp_ip, dhcp_hostname FROM health_check_dhcp_history ORDER BY dhcp_ip"</code></pre>

            <h3>7.7 åŒæ­¥ DHCP é…ç½®åˆ° Cron å®¹å™¨</h3>
            <p>åœ¨ DHCP Management æ–°å¢æˆ–ä¿®æ”¹ DHCP ä¼ºæœå™¨å¾Œï¼Œéœ€è¦åŒæ­¥é…ç½®åˆ° Cron å®¹å™¨ï¼š</p>
            <pre><code># åŒæ­¥é…ç½®
docker cp phpipam_phpipam-web_1:/phpipam/health_dashboard/config/dhcp_servers.json /tmp/
docker cp /tmp/dhcp_servers.json phpipam_phpipam-cron_1:/health_check/config/

# æ‰‹å‹•åŸ·è¡Œæ”¶é›†ï¼ˆä¸ç”¨ç­‰ 5 åˆ†é˜ï¼‰
docker exec phpipam_phpipam-cron_1 php /health_check/scripts/collect_stats.php</code></pre>

            <div class="warning">
                <strong>âš ï¸ æ³¨æ„äº‹é …</strong>
                <ul>
                    <li>ä¿®æ”¹ DHCP ä¼ºæœå™¨é…ç½®å¾Œï¼Œéœ€è¦åŒæ­¥åˆ° Cron å®¹å™¨ä¸¦ç­‰å¾…æ”¶é›†è…³æœ¬åŸ·è¡Œæ‰æœƒç”Ÿæ•ˆ</li>
                    <li>åˆªé™¤ DHCP é…ç½®ä¸æœƒè‡ªå‹•åˆªé™¤æ­·å²è³‡æ–™ï¼Œå¦‚éœ€ç«‹å³ç”Ÿæ•ˆè«‹æ‰‹å‹•åˆªé™¤æ­·å²è¨˜éŒ„</li>
                    <li>è³‡æ–™ä¿ç•™ 7 å¤©ï¼Œè¶…éæœƒè‡ªå‹•æ¸…ç†</li>
                    <li>å®¹å™¨é‡å•Ÿå¾Œ Dashboard æª”æ¡ˆæœƒä¿ç•™ï¼Œä½†éœ€ç¢ºèª Volume è¨­å®š</li>
                </ul>
            </div>
        </div>

        <div class="footer">
            <p>ğŸ“Š phpIPAM å¥åº·æª¢æŸ¥ç›£æ§ç³»çµ± v2.1</p>
            <p>å ±å‘Šæ›´æ–°æ™‚é–“ï¼š2025-12-23 11:50</p>
            <p>Jason Cheng | IT Infrastructure</p>
        </div>
    </div>
</body>

</html>